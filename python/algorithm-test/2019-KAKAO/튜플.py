'''
* ğŸ™†â€â™‚ï¸ Created by wwlee94 on 2020.05.06
https://programmers.co.kr/learn/courses/30/lessons/64065

2019ë…„ ì¹´ì¹´ì˜¤ ê°œë°œì ê²¨ìš¸ ì¸í„´ì‹­ LEVEL 2 ë¬¸ì œ
- ë¬¸ì œ í’€ì´ ì ‘ê·¼ -
{{2}, {2, 1}, {2, 1, 3}, {2, 1, 3, 4}}
{{2, 1, 3, 4}, {2}, {2, 1, 3}, {2, 1}}
{{1, 2, 3}, {2, 1}, {1, 2, 4, 3}, {2}}
ìœ„ì™€ ê°™ì€ ì§‘í•©ì˜ ì›ì†Œë¥¼ (2,1,3,4) ë¼ëŠ” íŠœí”Œë¡œ ë°”ê¾¸ì–´ì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤.
í•µì‹¬ì€ ê¸¸ì´ê°€ ì‘ì€ ì›ì†Œë¶€í„° ëŒë©´ì„œ ì´ì „ ì›ì†Œì™€ setì˜ '-' ì—°ì‚°ì„ í†µí•´ ë‹¤ìŒ ì›ì†Œë¥¼ í•˜ë‚˜ì”© êµ¬í•´ê°€ë„ë¡ ì ‘ê·¼!

1. ê°€ì¥ ë¨¼ì €, ë¬¸ì œ ìì²´ê°€ stringìœ¼ë¡œ ì£¼ì–´ì¡Œê¸° ë•Œë¬¸ì— ì´ë¥¼ parsing í•´ì•¼í•œë‹¤.
2. ì •ê·œì‹ê³¼ splitì„ í†µí•´ì„œ ì›í•˜ëŠ” í˜•íƒœë¡œ parsingí•œ í›„
3. í•´ë‹¹ ì›ì†Œë“¤ì„ lenì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ ì‹œí‚¨ë‹¤.
4. ë§ˆì§€ë§‰ìœ¼ë¡œ forë¬¸ì„ ëŒë©´ì„œ ì´ì „ ì›ì†Œì™€ setì˜ '-' ì—°ì‚°ì„ í†µí•´ answerì— ë‚˜ì˜¨ ê°’ì„ ì¶”ê°€í•œë‹¤.
'''

import re
def solution(s):
    answer = []
    arr = []
    
    s = s.lstrip('{').rstrip('}').split('},{')
    for string in s:
        val = list(map(int, string.split(','))) # ì •ìˆ˜í˜• ë°°ì—´ë¡œ
        arr.append(val)
    arr.sort(key = len)
    
    answer.append(arr[0][0])
    for i in range(1, len(arr)):
        val = set(arr[i]) - set(arr[i-1])
        answer.append(val.pop()) # setì—ì„œ ê°’ í•˜ë‚˜ ê°€ì ¸ì˜¤ê¸°
    return answer